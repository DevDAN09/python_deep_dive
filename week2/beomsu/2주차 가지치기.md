
## Topic: 파이써닉한 객체지향
> sub: 파이써닉과 객체지향에 대한 고찰

요새 파이썬에 대해 알아보면서 파이써닉에 대한 직관은 조금 생긴 것 같습니다. 그러나 파이써닉과 제가 생각하는 객체지향이랑은 조금 느낌이 다르더라구요. 그런데 파이썬은 객체지향 언어라고 자주 소개되잖아요? 그렇다면 파이썬에서 어떻게 객체지향을 풀어낼 수 있는지, 파이써닉한 객체지향이란 무엇일지 제 나름의 고찰을 한번 가져봤습니다.

## 파이써닉
제가 생각하는 파이써닉이 뭔지 정의부터 내려야지 이야기를 해볼 수 있을 것 같습니다.
제 생각을 요소별로 분류화를 해야지 결론내리기 쉬울 것 같습니다.

**파이써닉**
- 직관적임. 
	- 타 언어에서 넘어온 사람들의 관점에서 벗어나 완전히 그냥 순수하게 인간이 생각할 법한 방식대로 코딩하는 것에 최적화되어있음.
- 간결함.
	- + 읽기 쉬움
- 가독성이 좋아야함.
	- 전문가를 위한 파이썬도 그렇고 다른 자료들도 그렇고 지나친 파이썬 문법으로 인한 가독성 저하를 경계하는 것으로 보였습니다.

## 객체지향
이 토픽을 들어가기 전에 제 나름대로의 객체지향에 고찰이 필요합니다. 나름의 정의를 내려보겠습니다.

SOLID, 캡슐화, 추상화, 상속.. 다 좋은데 이런 것들은 객체지향을 관통하는 핵심이 될 수 없다고 생각을 해요.
객체지향의 핵심은 특정한 비즈니스를 여러가지 객체의 컴포지션으로 풀어내는 것이라고 저는 생각합니다. 위의 것들은 그걸 돕기 위한 것에 불과할 뿐이구요.

이런 객체들의 컴포지션은 행동 기반으로 이뤄지게 됩니다. 현장에서 간단한 예시를 제공해보자.

이 논리에 따라서 객체에서 포커스를 맞춰야하는 것은 데이터가 아닌 메서드(행동)라고 생각을 했어요. 실제로 그렇게 이야기하는 자료들도 있고.

## 파이썬에서 객체지향?
일반적으로 생각해볼 수 있는 건 이런 느낌일 것 같아요.
```python
class Beomsu:
	def __init__(self):
		self.hand = Hand()
		self.arm = Arm(self.hand)
		self.mouth = Mouth()
		
	# 비즈니스: 앞에 있는 걸 마신다.
	def take_a_sip(self, drink):
		self.hand.grap(drink)
		self.arm.pull()
		self.mouth.drink(self.hand.holding_obj)
```

대충 이렇게 표현해봤는데, Beomsu라는 클래스에 depth가 하나정도 생긴 거 외에는 그렇게 불편해보이진 않아요. 나쁘지 않아보이네요.

근데 여기서 한번 더 생각을 해봐야할 것 같아요. 이거 파이써닉한 건가?
즉
- 직관적인가?
- 간결한가?
- 가독성이 좋나?

이 방식의 문제점은 얘가 확장되었을 때 문제가 생깁니다. 의존관계가 어려워져요.
제 파이썬 프로젝트 레포 링크를 같이 보시죠.
https://github.com/shon5544/timetable-crawler

crawler 모듈의 init을 보시면 driverSetting에 대한 의존성이 계속 올라와요.
또 이러면 crawler를 사용하는 놈이 또 driverSetting을 주입을 해줘야하는 상황인 겁니다.

이걸 왜 이렇게 코딩했냐, 그냥 driverSetting이 필요한 모듈에서 생성하면 될 텐데. 라는 생각이 들 수 있어요.
근데 이걸 이렇게 짠 이유는 하나의 전역적인 driverSetting 인스턴스로 모든 모듈을 다 돌려막기 하고 싶었어서 그런거였어요. driver에 대한 설정을 마치고 그 설정을 하나의 인스턴스로 쭉 끌고 싶었던 거죠. 매번 설정을 해주고 별도의 인스턴스를 만드는게 훨씬 별로라고 당시에는 생각했어요.

이렇게 되다보니, 별도의 IoC가 없는 상황에서는 코드 파악 및 작성이 매우 불편해지는 경험을 하게 되었습니다. 파이썬 개발자의 관점에서 생각했어야 했는데 너무 Spring 개발자 관점에서 코딩을 했던 거에요.

이 코드는 아까 이야기했던 제 나름의 파이써닉에 대한 기준이 무너졌습니다.
직관적이지 않고, 장황하고, 가독성이 뛰어나지 않습니다.

그렇다면 어떻게 해야지 파이써닉할까? 이건 이제 내일 정리해야지